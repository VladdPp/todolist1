{"ast":null,"code":"import _toConsumableArray from\"/home/vlad/todolist/todoUI/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/vlad/todolist/todoUI/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/vlad/todolist/todoUI/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/vlad/todolist/todoUI/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/vlad/todolist/todoUI/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./styles/Todolist.css\";var Todolist=/*#__PURE__*/function(_React$Component){_inherits(Todolist,_React$Component);var _super=_createSuper(Todolist);function Todolist(props){var _this;_classCallCheck(this,Todolist);_this=_super.call(this,props);_this.state={items:[]};return _this;}_createClass(Todolist,[{key:\"removeItem\",value:function removeItem(id){fetch(\"http://localhost:8081/item/delete/\".concat(id)).then(this.setState({items:this.state.items.filter(function(item){return item.id!==id;})}));}},{key:\"toggleDone\",value:function toggleDone(id){var items=_toConsumableArray(this.state.items);var item=items.find(function(item){return item.id===id;});item.done=!item.done;fetch(\"http://localhost:8081/item/update/\".concat(id,\"/\").concat(item.done)).then(this.setState({items:items}));}},{key:\"isDone\",value:function isDone(done){if(done){return\"Done\";}else{return\"Not Done\";}}},{key:\"createItem\",value:function createItem(item){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"ListItem\",key:item.id,id:item.id},/*#__PURE__*/React.createElement(\"div\",{className:\"Title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"RemoveItem\",onClick:function onClick(){return _this2.removeItem(item.id);}},\"X\"),item.item),/*#__PURE__*/React.createElement(\"div\",{className:\"Status\",onClick:function onClick(){return _this2.toggleDone(item.id);}},this.isDone(item.done)));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;fetch(\"http://localhost:8081/items\").then(function(res){return res.json();}).then(function(json){return _this3.setState({items:json.items});});}},{key:\"render\",value:function render(){var _this4=this;var items=this.state.items;return/*#__PURE__*/React.createElement(\"div\",{className:\"TodoList\"},/*#__PURE__*/React.createElement(\"div\",{className:\"List\"},items.map(function(item){return _this4.createItem(item);})));}}]);return Todolist;}(React.Component);export default Todolist;","map":{"version":3,"sources":["/home/vlad/todolist/todoUI/src/components/todolist.js"],"names":["React","Todolist","props","state","items","id","fetch","then","setState","filter","item","find","done","removeItem","toggleDone","isDone","res","json","map","createItem","Component"],"mappings":"yhBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,uBAAP,C,GAEMC,CAAAA,Q,gHACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAAb,CAFiB,aAKlB,C,+CAED,oBAAWC,EAAX,CAAe,CACbC,KAAK,6CAAsCD,EAAtC,EAAL,CAAiDE,IAAjD,CACE,KAAKC,QAAL,CAAc,CACZJ,KAAK,CAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBK,MAAjB,CAAwB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACL,EAAL,GAAYA,EAAhB,EAA5B,CADK,CAAd,CADF,EAKD,C,0BAED,oBAAWA,EAAX,CAAe,CACb,GAAID,CAAAA,KAAK,oBAAO,KAAKD,KAAL,CAAWC,KAAlB,CAAT,CACA,GAAIM,CAAAA,IAAI,CAAGN,KAAK,CAACO,IAAN,CAAW,SAAAD,IAAI,QAAIA,CAAAA,IAAI,CAACL,EAAL,GAAYA,EAAhB,EAAf,CAAX,CACAK,IAAI,CAACE,IAAL,CAAY,CAACF,IAAI,CAACE,IAAlB,CAEAN,KAAK,6CAAsCD,EAAtC,aAA4CK,IAAI,CAACE,IAAjD,EAAL,CAA8DL,IAA9D,CACE,KAAKC,QAAL,CAAc,CAAEJ,KAAK,CAALA,KAAF,CAAd,CADF,EAGD,C,sBAED,gBAAOQ,IAAP,CAAa,CACX,GAAIA,IAAJ,CAAU,CACR,MAAO,MAAP,CACD,CAFD,IAEO,CACL,MAAO,UAAP,CACD,CACF,C,0BAED,oBAAWF,IAAX,CAAiB,iBACf,mBACE,2BAAK,SAAS,CAAC,UAAf,CAA0B,GAAG,CAAEA,IAAI,CAACL,EAApC,CAAwC,EAAE,CAAEK,IAAI,CAACL,EAAjD,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,2BAAK,SAAS,CAAC,YAAf,CAA4B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACQ,UAAL,CAAgBH,IAAI,CAACL,EAArB,CAAN,EAArC,MADF,CAIGK,IAAI,CAACA,IAJR,CADF,cAOE,2BAAK,SAAS,CAAC,QAAf,CAAwB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACI,UAAL,CAAgBJ,IAAI,CAACL,EAArB,CAAN,EAAjC,EACG,KAAKU,MAAL,CAAYL,IAAI,CAACE,IAAjB,CADH,CAPF,CADF,CAaD,C,iCAED,4BAAoB,iBAClBN,KAAK,CAAC,6BAAD,CAAL,CACGC,IADH,CACQ,SAAAS,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADX,EAEGV,IAFH,CAEQ,SAAAU,IAAI,QAAI,CAAA,MAAI,CAACT,QAAL,CAAc,CAAEJ,KAAK,CAAEa,IAAI,CAACb,KAAd,CAAd,CAAJ,EAFZ,EAGD,C,sBAED,iBAAS,iBACP,GAAIA,CAAAA,KAAK,CAAG,KAAKD,KAAL,CAAWC,KAAvB,CACA,mBACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,MAAf,EAAuBA,KAAK,CAACc,GAAN,CAAU,SAAAR,IAAI,QAAI,CAAA,MAAI,CAACS,UAAL,CAAgBT,IAAhB,CAAJ,EAAd,CAAvB,CADF,CADF,CAKD,C,sBA/DoBV,KAAK,CAACoB,S,EAkE7B,cAAenB,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport \"./styles/Todolist.css\";\n\nclass Todolist extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n    };\n  }\n\n  removeItem(id) {\n    fetch(`http://localhost:8081/item/delete/${id}`).then(\n      this.setState({\n        items: this.state.items.filter(item => item.id !== id),\n      })\n    );\n  }\n\n  toggleDone(id) {\n    let items = [...this.state.items];\n    let item = items.find(item => item.id === id);\n    item.done = !item.done;\n\n    fetch(`http://localhost:8081/item/update/${id}/${item.done}`).then(\n      this.setState({ items })\n    );\n  }\n\n  isDone(done) {\n    if (done) {\n      return \"Done\";\n    } else {\n      return \"Not Done\";\n    }\n  }\n\n  createItem(item) {\n    return (\n      <div className=\"ListItem\" key={item.id} id={item.id}>\n        <div className=\"Title\">\n          <div className=\"RemoveItem\" onClick={() => this.removeItem(item.id)}>\n            X\n          </div>\n          {item.item}\n        </div>\n        <div className=\"Status\" onClick={() => this.toggleDone(item.id)}>\n          {this.isDone(item.done)}\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8081/items\")\n      .then(res => res.json())\n      .then(json => this.setState({ items: json.items }));\n  }\n\n  render() {\n    var items = this.state.items;\n    return (\n      <div className=\"TodoList\">\n        <div className=\"List\">{items.map(item => this.createItem(item))}</div>\n      </div>\n    );\n  }\n}\n\nexport default Todolist;\n"]},"metadata":{},"sourceType":"module"}